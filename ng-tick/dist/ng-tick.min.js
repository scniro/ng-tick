function init(){angular.module("ngTick",[]).directive("clock",["$filter",function(t){return{scope:{format:"@",handle:"@clock",trigger:"="},link:function(e,n,r){e.handle&&(e.$root[e.handle]=e);var i=t("date"),a=(new Date).getTime(),o=new Tock({callback:function(){var t=o.lap(),r=new Date(a+t);e.format?n.text(i(new Date(r),e.format)):n.text(new Date(r))}});e.start=function(){o.go||o.start()},e.trigger||e.start()}}}]).directive("ticker",["$filter",function(t){return{scope:{format:"@",handle:"@ticker",trigger:"="},link:function(e,n,r){e.handle&&(e.$root[e.handle]=e);var i=t("date"),a=t("relativeTime"),o=new Tock({callback:function(){var t=a(o.lap());t=e.format?i(t,e.format):o.lap(),n.text(t)}});e.start=function(){o.reset(),o.start()},e.trigger||e.start()}}}]).directive("countdown",["$filter","tickHelper",function(t,e){return{scope:{format:"@",handle:"@countdown",duration:"=",trigger:"="},link:function(n,r,i){n.handle&&(n.$root[n.handle]=n);var a=t("date"),o=t("relativeTime"),c=new Tock({countdown:!0,interval:1,callback:function(){var t=o(c.lap());t=a(t,n.format),r.text(t)},complete:function(){n.handle&&n.$root[n.handle].$emit(n.handle+":end")}});n.start=function(){c.stop();var t=e.getDuration(n.duration);c.start(t)},n.trigger||n.start()}}}]).factory("tickHelper",[function(){function t(t){var e=new Date;return e.setMilliseconds(e.getMilliseconds()+(t.ms||0)),e.setSeconds(e.getSeconds()+(t.s||0)),e.setMinutes(e.getMinutes()+(t.m||0)),e.setHours(e.getHours()+(t.h||0)),Math.abs(e-new Date)}return{getDuration:t}}]).filter("relativeTime",[function(){return function(t){return new Date(1970,0,1).setMilliseconds(t)}}])}!function(){"function"==typeof define&&define.amd?define(["angular"],function(){init()}):init()}();